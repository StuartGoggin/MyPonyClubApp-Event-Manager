# Zone Manager Reports Feature

**Version:** 1.0  
**Date:** December 11, 2025  
**Component:** Zone Event Management - Reports Tab

## Overview

The Zone Manager now includes a **Reports** sub-tab within the Events section that provides tools for generating official documentation and reports related to zone events.

## Features

### 1. Committee Approval Letter

**Purpose:** Generate an official letter to the zone committee listing all pending events that require approval and ratification.

**Location:** Zone Manager → Events → Reports Tab

#### Letter Contents

The generated letter includes:

1. **Header Section**
   - Zone name
   - Current date
   - Formal addressee (Zone Committee Members)
   - Subject line

2. **Body Content**
   - Opening paragraph requesting approval
   - Complete list of all pending events with details:
     - Event name
     - Date (formatted)
     - Club/Organizer
     - Event type
     - Location
     - Description (if provided)
     - Coordinator information (if available)

3. **Closing Section**
   - Professional closing remarks
   - Zone representative signature line

4. **Footer**
   - Generated by MyPonyClub Event Manager
   - Generation date

#### Features

- **PDF Download:** Generates a professional PDF document
  - Filename format: `{ZoneName}-Committee-Letter-{YYYY-MM-DD}.pdf`
  - A4 portrait format
  - Proper page breaks for multi-page documents
  - Professional formatting with appropriate spacing

- **Email Integration:** (Coming Soon)
  - Direct email capability will be added in future update

- **Event Preview Table:** 
  - Shows all pending events before generation
  - Displays: Event Name, Date, Club/Organizer, Type, Location

- **Smart Empty State:**
  - Displays helpful message when no pending events exist
  - Prevents generation when no events to include

## Usage

### Accessing Reports

1. Navigate to **Zone Manager** dashboard
2. Select your zone from the dropdown
3. Click on the **Events** tab in the main navigation
4. Click on the **Reports** sub-tab

### Generating Committee Letter

1. Review the list of pending events shown in the preview table
2. Verify the event count badge shows the expected number
3. Click **Download as PDF** button
4. PDF will be automatically downloaded to your browser's download folder

### Use Cases

1. **Monthly Committee Meetings**
   - Generate letter before each committee meeting
   - Include as agenda item for event approvals
   - Committee can review all pending events in one document

2. **Event Ratification Process**
   - Formal documentation of events requiring approval
   - Provides complete event details for informed decision-making
   - Creates audit trail of approval requests

3. **Communication Tool**
   - Professional format for committee communications
   - Consistent presentation of event information
   - Reduces back-and-forth emails

## Technical Details

### Implementation Files

- **Component:** `src/components/zone-manager/zone-event-reports.tsx`
- **Integration:** `src/components/zone-manager/zone-event-management.tsx`
- **Dependencies:** jsPDF for PDF generation

### Event Status Filtering

The report only includes events with status = `'proposed'`:
- Events awaiting initial review
- Not yet approved by zone committee
- Sorted chronologically by event date

### PDF Generation

- Library: jsPDF
- Format: A4 portrait (210mm x 297mm)
- Margins: 20mm on all sides
- Fonts: Helvetica (normal and bold)
- Auto-pagination when content exceeds one page

## Future Enhancements

The Reports tab is designed to be extensible. Planned future reports include:

1. **Email Functionality**
   - Direct email delivery to committee members
   - Integration with existing email queue system

2. **Event Statistics Report**
   - Event counts by type, club, month
   - Visualization of event distribution
   - Year-over-year comparisons

3. **Club Participation Summary**
   - Events submitted per club
   - Approval rates
   - Historical trends

4. **Approved Events Listing**
   - Calendar-ready event list
   - Export options (PDF, CSV)
   - Customizable date ranges

5. **Equipment Booking Summary**
   - Booking statistics
   - Revenue summaries
   - Equipment utilization reports

## Troubleshooting

### No Pending Events

**Issue:** Button is disabled, shows "No pending events"  
**Solution:** This is expected when all events are approved or rejected. Submit new events or wait for clubs to submit events.

### PDF Not Downloading

**Issue:** Clicking Download button doesn't produce PDF  
**Solution:** 
- Check browser's pop-up blocker settings
- Verify browser allows downloads from the site
- Try a different browser

### Missing Event Details

**Issue:** Some event information is missing from letter  
**Solution:** 
- Review the original event submission
- Optional fields (coordinator, description) may not be populated
- Edit the event to add missing information before generating report

## Code Examples

### Adding New Report Type

To add a new report to the Reports tab:

```typescript
// In zone-event-reports.tsx

// 1. Add new report card in the return JSX
<Card>
  <CardHeader>
    <CardTitle className="flex items-center gap-2">
      <YourIcon className="h-5 w-5" />
      Your Report Title
    </CardTitle>
    <CardDescription>
      Description of what this report does
    </CardDescription>
  </CardHeader>
  <CardContent>
    {/* Your report content */}
    <Button onClick={generateYourReport}>
      <Download className="h-4 w-4 mr-2" />
      Generate Report
    </Button>
  </CardContent>
</Card>

// 2. Add report generation function
const generateYourReport = () => {
  // Your report logic here
};
```

## Related Documentation

- [Zone Manager Quick Start](./ZONE_MANAGER_QUICK_START.md)
- [Zone Approval Workflow](./ZONE_APPROVAL_PARTIAL_REFRESH.md)
- [Email Queue System](../EMAIL_QUEUE_RECIPIENT_REEVALUATION.md)
- [System Documentation](../SYSTEM_DOCUMENTATION.md)

## Support

For issues or feature requests related to the Reports feature, please contact the development team or submit an issue through the project's issue tracking system.
